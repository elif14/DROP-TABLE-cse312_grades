<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Line Up</title>
    <link rel="stylesheet" type="text/css" href="/static/homepage.css"/>
    <script src="node_modules/socket.io-client/dist/socket.io.js"></script>
    <script type="text/javascript" charset="utf-8">
        document.addEventListener('DOMContentLoaded', function () {
            var socket = io();

            socket.on('connect', function() {
                socket.send('test connection chrisfsjfalsjdlfkj');
            });

            socket.on('connect_error', (error) => {
            console.log('xxxxyyyyyyyConnection Error:', error);
            });

        });
    </script>
</head>

<body onload="ta_display()">
    <script src="/static/functions.js"></script>
    {% if username %}
        <h1> Time to work! {{ username }} </h1>
    {% else %}
        <h1> Welcome! Students </h1>
    {% endif %}
    <img src="/static/picture.jpg" alt="testing image" type="image/jpeg"/>
    <h1> TAs On Duty: </h1>
    <h2 id="ta_names"></h2>
    <form action="/user" method="get">
        <button onclick="submit">Register/Login</button>
    </form>
    <form action="/queue" method="post">
        <button onclick="submit">On Duty</button>
    </form>
    <br>
    <form action="/dequeue" method="post">
        <button onclick="submit">Off Duty</button>
    </form>
    <br>
    <form action="/student" method="POST">
        <label>
            Student:
            <input id="student" type="text" name="Name">
        </label>
    </form>
    <br>
    <form action="/TA-chat" method="POST">
        <label>
            TA Announcements:
            <input id="TA-chat" type="text" name="TA-chat">
        </label>
    </form>
    <h2 id="student_names"></h2>


    <h3> Queue: </h3>
    {% for student in studentQ %}
        <p><button id="{{ student }}" onclick="dequeue('{{ student }}')">X</button> {{ student }}</p>
    {% endfor %}

    <h4> TA Announcements </h4>
    <div id="TA-Announcements">

    </div>


</body>
</html>